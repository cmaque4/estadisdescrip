---
title: "ESTADISTICA PARA PSICOLOGIA"
subtitle: "Una guia"  
author: Carlos Puma
role: "Desconediantes de una ciudad de Arequipa"
company: UNSA
#date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    seal: false
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.path="figs/", fig.width=9, fig.height=3.5, echo=FALSE, warning=FALSE, message=FALSE, fig.retina=3, fig.asp=.5, out.width='100%', fig.showtext = TRUE, comment = NULL, hiline = TRUE, cache = FALSE)
# for cran plots
library(cranlogs)
library(tidyverse)
# for fonts
library(showtext)
library(xaringanExtra)
library(xaringanthemer)
xaringanExtra::use_panelset()
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#1381B0",
  secondary_color = "#FF961C",
  inverse_header_color = "#FFFFFF"
)
```

```{r xaringan-extra-styles, echo=FALSE}
xaringanExtra::use_extra_styles(hover_code_line = TRUE, mute_unhighlighted_code = FALSE)
```

```{r xaringanExtra-clipboard, echo=FALSE}
xaringanExtra::use_clipboard(
  button_text = "Haga clic para copiar",
  success_text = "Copiado",
  error_text = "Pulse Ctrl + C para copiar"
)
```

```{r include=FALSE}
ipak <- function(pkg){
  new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
  if (length(new.pkg)) 
    install.packages(new.pkg, dependencies = TRUE)
  sapply(pkg, require, character.only = TRUE)
}

packages <- c("parameters","apa","haven","ggplot2","ggpubr","gridExtra",
              "apaTables", "reshape", "GPArotation", "mvtnorm", "psych", 
              "psychometric", "lavaan", "nFactors", "semPlot", "lavaan", 
              "MVN", "semTools","foreign","readxl","dplyr","parameters",
              "apa","haven","ggplot2","ggpubr","gridExtra","apaTables", 
              "reshape", "GPArotation", "mvtnorm", "psych", "psychometric",               "lavaan", "nFactors", "semPlot", "lavaan", "MVN", "semTools")
              
ipak(packages)
library(tidyverse) # En el caso de este paquete solo se da Control + Enter 
library(dplyr) # En el caso de este paquete solo se da Control + Enter 
library(corrr)
library(correlation)
library(corrplot)
library(ggcorrplot)
library(nortest)
library(car)
library(rempsyc)
library(magrittr)
library(flextable)
library(officer)
library(knitr)
library(data.table)
library(report)
library(parameters)
```


class: title-slide, left, middle
background-image: url("https://pbs.twimg.com/media/FoeqoqvakAASJ30?format=jpg&name=4096x4096")
background-position: right
background-size: contain
background-color: #BB3E03

.pull-left[

# `r rmarkdown::metadata$title`

## `r rmarkdown::metadata$subtitle`

### `r rmarkdown::metadata$date`
]
---

name: contents-slide
## Indice de Contenidos
        
1. [Instalar y llamar a los paquetes para trabajar](#Instalar)
2. [Correlaciones en Rstudio](#correlaciones)
3. [Comparación de grupos independientes](#Comparación)
4. [Pruebas Parametricas 2 grupos (T student)](#student)
5. [T de Student](#pruebat)
6. [Gráfica de la prueba T de Student](#graficat)
7. [U de Mann-Whitney](#Whitney)
8. [Gráfica de la prueba U Mann-Whitney](#graficaWhitney)
9. [Pruebas Parametricas para más de dos grupos (ANOVA)](#ANOVA)
10. [Gráfica de la prueba ANOVA](#graficaanova)
11. [Kruskal-Wallis (Prueba no paramétrica)](#Kruskal)
12. [Gráfica de la prueba Kruskal-Wallis](#graficaKruskal)
13. [Prueba Parametrica para grupos relacionados](#relacionados)
14. [T de Student para muestras relacionadas/pareadas/apareadas](#trelacionadas)
15. [Gráfica de la prueba t para muestras apareadas](#graficatapareadas)

---

class: left, middle, inverse, center
background-size: 70%
background-color: #9B2226
name: Instalar

## Instalar y llamar a los paquetes para trabajar
<hr>
---

## Llamar a los paquetes

En este caso tenemos que usar el siguiente código para poder proceder con los análisis sin ningún problema. Este código nos instala y llama a todos los paquetes necesarios. Solo damos **Control + Enter** al comienzo de las 3 lineas **Ipak** + **packages** y **ipak(packages)**


````markdown
ipak <- function(pkg){
  new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
  if (length(new.pkg)) 
    install.packages(new.pkg, dependencies = TRUE)
  sapply(pkg, require, character.only = TRUE)
}

packages <- c("parameters","apa","haven","ggplot2","ggpubr","gridExtra","apaTables",                  "reshape", "GPArotation", "mvtnorm", "psych","psychometric", "lavaan",                  "nFactors", "semPlot","MVN","semTools","foreign","readxl", "dplyr",                     "parameters","apa","haven","ggplot2","ggpubr","gridExtra","reshape"
              "GPArotation", "mvtnorm", "psych", "psychometric","lavaan",
              "semPlot","corrr","correlation","corrplot","ggcorrplot","nortest","car",
              "rempsyc","magrittr","flextable","officer","knitr","data.table","report",
              "parameters")
              
ipak(packages)
library(tidyverse) # En el caso de este paquete solo se da Control + Enter 
library(dplyr) # En el caso de este paquete solo se da Control + Enter 
```
---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

class: left, middle, inverse, center
background-size: 70%
background-color: #005F73
name: correlaciones

## Correlaciones en Rstudio
<hr>

---

#### Vamos a llamar primero a nuestra base de datos para poder iniciar con las correlaciones

````markdown
file.choose()
```
**file.choose()** Nos permitirá ver donde estará ubicado nuestra base de datos que puede ser un archivo SPSS o xlsx, el cual debemos ubicar en nuestra computadora. Luego nos aparecerá de la siguiente forma 

````markdown
"D:\\INVESTIGACIÓN\\Comunicación y empatia\\Analisis\\comuyempa para jamovi.sav"
```
Esta base de datos es de un archivo de SPSS, para poder cargarlo a nuestro Rstudio debemos colocar la siguiente linea

````markdown
datos<-read_xlsx("D:\\INVESTIGACIÓN\\Comunicación y empatia\\nueva articulo\\paraelarti.xlsx")
datos<-read_sav("D:\\INVESTIGACIÓN\\Comunicación y empatia\\Analisis\\comuyempa para jamovi.sav")
```
En este caso se pone el ejemplo de dos archivo como seria de Excel y SPSS respectivamente

1. Los importante es colocar **datos<-**, pues es un identificador que tendremos, en este caso se coloco ***datos*** como el normbre que tendra el archivo en nuestro entorno (pero puede ser cualquiera que querramos) y luego colocar **<-** pues esto es el medio para guardar el archivo
2. Luego escribir **read_xlsx** o **read_sav**, pero tambien solo copiar y pegar la linea de código presente
3. Con respecto a la ubicación de nuestro archivo siempre debe estar entre comillas

---

#### Ya con los datos en nuestro entorno de Rstudio, podemos visualizarlos los siguientes códigos

````markdown
view(datos) # Estos nos llevará a otra ventana donde se encontrarán nuestros datos
names(datos) # Nos permitirá ver los nombres de nuestras variables
```
```{r include=FALSE}
datos<-read_sav("D:\\INVESTIGACIÓN\\Comunicación y empatia\\Analisis\\comuyempa para jamovi.sav")
datoscorre <- dplyr::select(datos, genemotiva:expreemocional)
```

Teniendo esto, podemos proceder a realizar nuestra correlación, pero hay que considerar un punto

1.1 Si nuestra nuestra base de datos tiene información sociodemográfica, nuestras dimensiones y/o totales y queremos solo correlacionar nuestras dimensiones debemos colocar el siguiente código

````markdown
datoscorre <- dplyr::select(datos, genemotiva:expreemocional)
```
En donde como se mencionó se llamarán en conjunto a nuestras dimensiones, colocando para esto

- Colocando el nombre nuevo que le daremos a esa base de datos, en este caso **datoscorre <-** 
- Luego el paquete **dplyr::select** con su respectiva función que queremos utilizar, que seria en este caso **select** 
- Y finalmente entre los paréntesis **(datos, genemotiva:expreemocional)**, la base de datos de donde estamos seleccionando nuestras dimensiones y las dimensiones (en este caso se hace la selección de las variables que están dentro de las dimensiones ***genemotiva:expreemocional***), esto utilizando los dos puntos **":"**

1.2 Y si nuestra base de datos solo contiene lo que querremos correlacionar, no hacemos el procedimiento mencionado anteriormente de hacer una selección de estas 

---

#### Para iniciar con las correlaciones, solo colocaremos el siguiente código.

```{r echo=TRUE}
cor(datoscorre)
```
Como se puede observar los resultados de las correlaciones se muestran automáticamente luego de darle **Control + Enter**

Pero para poder obtener ya una tabla APA con todas las especificaciones podemos usar el siguiente código, el cual nos creará un documento word con esta tabla 

```{r eval=FALSE, include=TRUE, echo=TRUE}
apa.cor.table(datoscorre, # Aqui colocamos nuestra base de datos
              table.number = 1, # Agregar el número de tabla que queramos que sea
              show.conf.interval = FALSE, # Si quieremos que en la tabla tenga los intervalos de confianza
              landscape = TRUE,
              #filename = "worddecorrelaciones.doc" # Y para este caso si lo queremos guardar en un documento word
              )
```

---

class: center

Este seria el resultado obtenido

```{r include=TRUE}
apa.cor.table(datoscorre,
              table.number = 1,
              show.conf.interval = TRUE,
              landscape = FALSE,
              )
```
---

### Si en el caso nuestros datos no tengan una normalidad, podemos utilizar la correlación de spearman, la cual es una prueba no paramétrica

Y para poder obtener estas correlaciones, vamos utilizar el siguiente código

````markdown
cor(datoscorre, method = c("spearman") )
```
```{r}
cor(datoscorre, method = c("spearman"))
```

Como se puede ver, se colocó la misma base donde se encuentran nuestas dimensiones o variables **datoscorre**, pero se le esta agregando el **method** y en este se especifica de esa forma que se quiere la correlación de spearman. Teniendo como resultados estas correlaciones.

**Nota: Con respecto a esta especificación que se hizo con el **method**, se hace porque las correlaciones que se hacen con el programa R siempre son de pearson, por ese motivo se agrega el **method**, pues si no se hace solo tendriamos correlaciones pearson **

---
### Podemos graficar nuestras correlaciones de las siguientes maneras

.pull-left[

#### **Base**

````markdown
datoscorre %>% 
  correlate() %>% 
  network_plot()
```

```{r}
datoscorre %>% 
  correlate() %>% 
  network_plot()
```

<br>


]


.pull-right[


#### **Base**

```{r eval=TRUE, include=FALSE}
datoscorree <- dplyr::select(datos,genemotiva:escucha)
datoscorree <- cor(datoscorree, method = "pearson")
```

````markdown
datoscorree <- cor(datoscorree, 
                   method = "pearson")
corrplot(datoscorree, 
         method = "shade",
         tl.col = "black",
         shade.col = NA,
         tl.srt = 45,
         addCoef.col = "black")
```

```{r}
corrplot(datoscorree, method = "shade", tl.col = "black",
         shade.col = NA, tl.srt = 45, addCoef.col = "black")
```

]

---

## **Base**

.pull-left[


<br><br>

````markdown
ggcorrplot(datoscorree, # Colocamos nuestros datos
           lab = TRUE, # Si queremos que los números de las correlaciones aparezcan
           hc.order = TRUE,
           lab_size = 3, # El tamaño de los números en las correlaciones
           type = c("upper") # El estilo de presentación de la gráfica
           ) 
```

<br>


]


.pull-right[


<br><br>

```{r}
ggcorrplot(datoscorree, lab = TRUE, hc.order = TRUE, lab_size = 3,
           type = c("upper"))
```

]

---

class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)

---

class: left, middle, inverse, center
background-size: 70%
background-color: #BB3E03
name: Comparación

## Comparación de grupos independientes
<hr>
---

class: left, middle, inverse, center
background-size: 70%
background-color: #540B0E
name: student

## Pruebas Parametricas 2 grupos (T student)
<hr>

---

#### Para iniciar con el analisis, primero debemos obtener dos cosas:

1. La normalidad de los datos (Kolmogorov y Shapiro)
2. La igualdad de varianzas (Prueba de Levene)

Y para obtener estos resultados debemos tener en cuenta la interpretación de estos dos pues, estos se leen de la misma manera

- Refiriéndonos al análisis del p valor 0.05, siendo el ejemplo de esto

````markdown
shapiro.test(datos$genemotiva) 
```

```{r}
shapiro.test(datos$genemotiva) 
```
En este caso el resultado del **p-value** es menor a 0.05 ya que salio mucho menos **p-value = 3.435e-09** por lo que se puede interpretar que la variable ***genemotiva*** no tiene normalidad.

---

Caso contrario es cuando obtenernos un valor p mayor a 0.05, pues esto nos indicaría que los datos son normales. Como en el siguiente caso, en el cual la variable **Ansiedad** sus resultados muestran que es normal, debido a que su **p-value = 0.0537** es mayor a 0.05

```{r}
datosnopara <- read_sav("D:\\ANALISIS FACTORIAL R\\Estadistica_curso\\Materiales drive _ Curso EstadySPSS_Jamovi\\05 Bases de datos de la parte práctica\\04.Análisis inferencial no paramétrico\\1 Comp de grupos independs\\Comp de dos grupos independ_ no paramét.sav")
```

```{r}
datosnoparame <- read_sav("D:\\ANALISIS FACTORIAL R\\Estadistica_curso\\Materiales drive _ Curso EstadySPSS_Jamovi\\05 Bases de datos de la parte práctica\\04.Análisis inferencial no paramétrico\\1 Comp de grupos independs\\Comp de más de dos grupos independ_ no paramét.sav")
```

````markdown
shapiro.test(datosnoparame$Ansiedad) 
```

```{r}
shapiro.test(datosnoparame$Ansiedad) 
```

En el caso anterior hemos observado el uso del **Shapiro**, pero este solo se utiliza cuando la cantidad de nuestros datos son menores a 50, en el caso de que tengamos más de 50 datos o encuestados, debemos usar **Kolmogorov**

````markdown
lillie.test(datos$empatiaafectiva)
```

```{r}
lillie.test(datos$empatiaafectiva)
```
Aqui según el **p-value = 8.337e-13** se puede observar que es menor a 0.05 por lo que se puede interpretar que la variable **empatiaafectiva** no tiene una normalidad.


---

Teniendo en cuenta la normalidad de los datos, ahora vamos a pasar a la **Prueba de Levene** que verificará la igualdad de varianzas

Para tener los resultados de la prueba de levene debemos colocar el siguiente código

````markdown
leveneTest(datosnopara$AreaIV, # Primero definimos nuestra variable o dimensión a la que querremos analizar
           group = datosnopara$Sexo, # Aqui definimos nuestros grupo, en este caso seria por sexo
           data = datosnopara # Y por último de que base de datos de donde estamos sacado la variable y el grupo 
           )

En este caso debemos utilizar el simbolo "$" para poder espeficiar mejor las variable, solo es escribir asi "basededatos$variable"
```

```{r}
leveneTest(datosnopara$AreaIV, group = datosnopara$Sexo, data = datosnopara)

```
Como se puede ver los resultados muestran que nuestro p-value es **0.3846** siendo esto mayor a 0.05, siendo la interpretación: La variable AreaIV muestra que tiene igualdad de varianzas, pues el valor p es mayor a 0.05.

Si el resultado del valor p es menor a 0.05 se diría que no existen iguadad de varianzas

*Teniendo ya estos dos resultados, refiriendonos a la Normalidad y a la Iguadad de varianzas, podemos iniciar con las pruebas parametricas y si es el caso no parámetricas, según lo obtenido*

---

class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)

---

name: pruebat

## T de Student

Esta es una prueba paramétrica y compara solo a dos grupos que pueden ser sexo (varón, mujer) o cualquier otra que solo tenga dos grupos

Para poder realizar un t test debemos colocar el siguiente código

````markdown
t.test(datos$genemotiva~ datos$Sexo, data = datos)
```

```{r}
t.test(datos$genemotiva~ datos$Sexo, data = datos)
```
Como se puede observar los resultado muestran que si existen una diferencia estadisticamente significativa, pues el **p-value = 0.001511** salio menor a 0.05.

---

Caso contrario es si nuestro p-value es mayor a 0.05, ya que en ese caso podríamos decir no existen diferencias estadisticamente significativas

En el caso de esta forma de realizar la t de student, solo se puede hacer con solo una variable y solo cambiar nuestras dimensiones, de modo que lo haríamos de esta forma (claro sin cambiar la variable de agrupación)

````markdown
t.test(datos$genemotiva~ datos$Sexo, data = datos)
```

````markdown
t.test(datos$comunoverbal~ datos$Sexo, data = datos)
```

````markdown
t.test(datos$empatiahabi~ datos$Sexo, data = datos)
```

Pero se puede obtener los t de students de más variables o dimensiones a la vez y solo utilizando el siguiente código

````markdown
nice_t_test(data = datosnopara, #Colocamos el nombre de nuestra base de datos
            response = c("AreaI","AreaII","AreaIII","AreaIV"), # Aqui las dimensiones o variables de las que queremos obtener la t de student
            group = "Sexo", # Aqui colocamos la variable de agrupación
            warning = FALSE,
            var.equal = TRUE # Se coloca TRUE para usar la prueba t de Student
            )
```
---

Los resultados que obtendríamos serian estos 

```{r}
nice_t_test(data = datosnopara,
            response = c("AreaI","AreaII","AreaIII","AreaIV"),
            group = "Sexo",
            warning = FALSE,
            var.equal = TRUE)
```

1. Se pueden observar en esta tabla las variables dependientes, que en este caso son las 4 áreas
2. la **t** de la prueba 
3. los **df** (grados de libertad)
4. los valores **p**
5. los tamaños del efecto (que en este caso es la ***d de Cohen***)
6. los intervalos de confianza (**CI_lower y CI_upper**)

Estos resultados ya se encuentran listos para pasarlos a una tabla con solo copiar y pegar, debido a que es lo que se pide haciendo la interpretración que solo en el **AreaI** existen diferencias estadisticamente significativas, pues el valor p en esta variable es menor a 0.05.

Sin embargo, podemos ya guardarlo en un word la tabla, utilizando para realizar esto el siguiente código

---


.pull-left[

En este caso vamos a guardar los códigos, ya presentados, con el nombre **t.test.results** 

````markdown
nice_t_test(data = datosnopara,
            response = c("AreaI","AreaII","AreaIII","AreaIV"),
            group = "Sexo",
            warning = FALSE,
            var.equal = TRUE)
```


````markdown
t.test.results<- nice_t_test(data = datosnopara,
            response = c("AreaI","AreaII","AreaIII","AreaIV"),
            group = "Sexo",
            warning = FALSE,
            var.equal = TRUE)
```

```{r}
t.test.results<- nice_t_test(data = datosnopara,
            response = c("AreaI","AreaII","AreaIII","AreaIV"),
            group = "Sexo",
            warning = FALSE,
            var.equal = TRUE)
```

<br>


]


.pull-right[


Y luego con el siguiente código vamos a obtener una tabla apa

````markdown
nice_table(t.test.results,
           title = "Comparación de grupos t de student",
           note = "df = Grados de libertad, d = tamaño del efecto")
```

```{r}
nice_table(t.test.results,
           title = "Comparación de grupos t de student",
           note = "df = Grados de libertad, d = tamaño del efecto")
```

]


```{r eval=FALSE, include=FALSE}
flextable::save_as_docx(t_table, path = "D:/resultadosenword/t_tests.docx")
```

```{r eval=FALSE, include=FALSE}
t_table <- nice_table(t.test.results,
           title = "Comparación de grupos t de student",
           note = "df = Grados de libertad, d = tamaño del efecto")
```

---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

name: graficat

### Gráfica de la prueba T de Student


````markdown
ggstatsplot::ggbetweenstats(
  data = datos,
  x = Sexo, # Variable de agrupación/independiente
  y = genemotiva, # Variable dependiente
  xlab = "Sexo (Variable de Agrupación)", # etiqueta para el eje X
  ylab = "Generosidad Motivada", # etiqueta para el eje y
  type = "p",#eliges el tipo de prueba "p" (for parametric), "np" (for nonparametric), "r" (for robust), "bf" (for Bayes Factor).
  #effsize.type = "g", #el tipo de estimador de efecto además de "d" está "g", "r" y la robusta que viene por defecto si eliges la robusta.
  conf.level = 0.99,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  #outlier.tagging = TRUE, # Te indica cuales son outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  #outlier.label = IIEF, # La etiqueta que va a tener los outliers
  #outlier.label.args = list(color = "red"), # la etiqueta de los outlairs en rojo
  messages = FALSE, # apagar los mensajes, ¿qué mensajes?, ni idea. 
  ggtheme = ggplot2::theme_classic(), # cambiar el fondo de la gráfica todos los temas en https://ggplot2.tidyverse.org/reference/ggtheme.html
  package = "yarrr", # El paquete asociado a la paleta de colores.
  palette = "info2", # Elegir la paletta dentro del paquete 
  title = "Gráfica de la Prueba T de Student de la dimensión Generocidad Motivada",
  #caption = "No es necesario",
  var.equal = TRUE # Para que nuestros datos sean evaluados con la t de student y no con welch
)
```
---
<br><br>
```{r}
ggstatsplot::ggbetweenstats(
  data = datos,
  x = Sexo, # Variable de agrupación/independiente
  y = genemotiva, # Variable dependiente
  xlab = "Sexo (Variable de Agrupación)", # etiqueta para el eje X
  ylab = "Generosidad Motivada", # etiqueta para el eje y
  type = "p",#eliges el tipo de prueba "p" (for parametric), "np" (for nonparametric), "r" (for robust), "bf" (for Bayes Factor).
  #effsize.type = "g", #el tipo de estimador de efecto además de "d" está "g", "r" y la robusta que viene por defecto si eliges la robusta.
  conf.level = 0.99,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  #outlier.tagging = TRUE, # Te indica cuales son outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  #outlier.label = IIEF, # La etiqueta que va a tener los outliers
  #outlier.label.args = list(color = "red"), # la etiqueta de los outlairs en rojo
  messages = FALSE, # apagar los mensajes, ¿qué mensajes?, ni idea. 
  ggtheme = ggplot2::theme_classic(), # cambiar el fondo de la gráfica todos los temas en https://ggplot2.tidyverse.org/reference/ggtheme.html
  package = "yarrr", # El paquete asociado a la paleta de colores.
  palette = "info2", # Elegir la paletta dentro del paquete 
  title = "Gráfica de la Prueba T de Student de la dimensión Generocidad Motivada",
  #caption = "No es necesario",
  var.equal = TRUE # Para que nuestros datos sean evaluados con la t de student y no con welch
)
```

---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

name: Whitney

### U de Mann-Whitney

La prueba U de Mann-Whitney también se conoce con otros nombres: Mann–Whitney–Wilcoxon, Wilcoxon rank-sum test y Wilcoxon–Mann–Whitney. Por ello está disponible en R por medio de la función **wilcox.test**.

````markdown
wilcox.test(datosnopara$AreaI ~ datosnopara$Sexo)
```

```{r}
wilcox.test(datosnopara$AreaI ~ datosnopara$Sexo)
```

Y como se puede observar, en el caso de nuestra variable **AreaI** esta presente una diferencia estadisticamente significativa, pues el **p-value = 0.001586** es menor a 0.05

En este caso, solo podremos utilizar ese código para cada una de nuestras variables. Y si queremos obtener las medias de los grupos, los grados de libertad, las desviaciones estándar, las medianas podemos utilizar el siguiente código

---

### En este caso, este código se puede utilizar en todo momento solo es necesario cambiar el nombre de las variables como serian 

1. El nombre de nuestra base de datos (en este caso se utilizó **datosnopara**)
2. La variable de agrupación (En este ejemplo se utilizó **datosnopara$Sexo**)
3. Y la variable o dimensión (En este ejemplo se utilizó la dimensión **AreaI**)

````markdown
group_by(datosnopara, datosnopara$Sexo) %>%
  summarise(
    count = n(),
    M = mean(AreaI),
    SD = sd(AreaI),
    median = median(AreaI),
    IQR = IQR(AreaI)
  )
```
```{r}
group_by(datosnopara, datosnopara$Sexo) %>%
  summarise(
    count = n(),
    M = mean(AreaI),
    SD = sd(AreaI),
    median = median(AreaI),
    IQR = IQR(AreaI)
  )
```
---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

name: graficaWhitney

### Gráfica de la prueba U Mann-Whitney

````markdown
ggstatsplot::ggbetweenstats(
  data = datos,
  x = Sexo, # Variable de agrupación/independiente
  y = genemotiva, # Variable dependiente
  xlab = "Sexo (Variable de Agrupación)", # etiqueta para el eje X
  ylab = "Generosidad Motivada", # etiqueta para el eje y
  type = "np",#eliges el tipo de prueba "p" (for parametric), "np" (for nonparametric), "r" (for robust), "bf" (for Bayes Factor).
  #effsize.type = "g", #el tipo de estimador de efecto además de "d" está "g", "r" y la robusta que viene por defecto si eliges la robusta.
  conf.level = 0.99,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  #outlier.tagging = TRUE, # Te indica cuales son outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  #outlier.label = IIEF, # La etiqueta que va a tener los outliers
  #outlier.label.args = list(color = "red"), # la etiqueta de los outlairs en rojo
  messages = FALSE, # apagar los mensajes, ¿qué mensajes?, ni idea. 
  ggtheme = ggplot2::theme_classic(), # cambiar el fondo de la gráfica todos los temas en https://ggplot2.tidyverse.org/reference/ggtheme.html
  package = "yarrr", # El paquete asociado a la paleta de colores.
  palette = "info2", # Elegir la paletta dentro del paquete 
  title = "Gráfica de la Prueba T de Student de la dimensión Generocidad Motivada",
  #caption = "No es necesario",
  var.equal = TRUE # Para que nuestros datos sean evaluados con la t de student y no con welch
)
```

---

<br><br>
```{r}
ggstatsplot::ggbetweenstats(
  data = datos,
  x = Sexo, # Variable de agrupación/independiente
  y = genemotiva, # Variable dependiente
  xlab = "Sexo (Variable de Agrupación)", # etiqueta para el eje X
  ylab = "Generosidad Motivada", # etiqueta para el eje y
  type = "np",#eliges el tipo de prueba "p" (for parametric), "np" (for nonparametric), "r" (for robust), "bf" (for Bayes Factor).
  #effsize.type = "g", #el tipo de estimador de efecto además de "d" está "g", "r" y la robusta que viene por defecto si eliges la robusta.
  conf.level = 0.99,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  #outlier.tagging = TRUE, # Te indica cuales son outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  #outlier.label = IIEF, # La etiqueta que va a tener los outliers
  #outlier.label.args = list(color = "red"), # la etiqueta de los outlairs en rojo
  messages = FALSE, # apagar los mensajes, ¿qué mensajes?, ni idea. 
  ggtheme = ggplot2::theme_classic(), # cambiar el fondo de la gráfica todos los temas en https://ggplot2.tidyverse.org/reference/ggtheme.html
  package = "yarrr", # El paquete asociado a la paleta de colores.
  palette = "info2", # Elegir la paletta dentro del paquete 
  title = "Gráfica de la Prueba T de Student de la dimensión Generocidad Motivada",
  #caption = "No es necesario",
  var.equal = TRUE # Para que nuestros datos sean evaluados con la t de student y no con welch
)
```
---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

class: left, middle, inverse, center
background-size: 70%
background-color: #FCBF49
name: ANOVA

## Pruebas Parametricas para más de dos grupos (ANOVA)
<hr>

---

Para iniciar con el analisis, primero debemos obtener dos cosas:

1. La normalidad de los datos (Kolmogorov y Shapiro)
2. La igualdad de varianzas (Prueba de Levene)

Podemos aplicar lo ya explicado en anteriormente

#### Ahora para tener nuestros analisis de ANOVA vamos a utilizar el siguiente código (Tener en cuenta que esta es una prueba paramétrica)

````markdown
aov(datospara$Participación ~ datospara$Área, data = datospara)
```
```{r include=FALSE}
datospara <- read_sav("D:\\ANALISIS FACTORIAL R\\Estadistica_curso\\Materiales drive _ Curso EstadySPSS_Jamovi\\05 Bases de datos de la parte práctica\\03.Análisis inferencial paramétrico\\1 Comp grupos independ\\Comp de más de dos grupos independ_paramét.sav")
```

```{r}
aov(datospara$Participación ~ datospara$Área, data = datospara)
```

Los resultados estan presentes, pero podemos mejorar la presentación con el siguiente código

---

<br><br><br>

Primero guardamos nuestro código, en este caso lo hicimos como **anvar <-**

````markdown
anvar <- aov(datospara$Participación ~ datospara$Área, data = datospara)
```
Luego vamos a utilizar **summary** el cual contiene nuestro código en el cual hemos guardado el anova realizado y le damos **control + enter**

````markdown
summary(anvar)
```
```{r}
anvar <-aov(datospara$Participación ~ datospara$Área, data = datospara)
summary(anvar)
```

Como se puede ser los resultados obtenidos con más ordenados y podemos solo copias y pegar los resultados, interpretando que son estadisticamente significativos porque el **p-value = 0.000231** es menor a 0.05. Sin embargo, podemos darte más especificidad con el siguiente código

---

<br><br>

````markdown
report(anvar)
```

```{r}
report(anvar)
```

Como se puede observar nos dan una descripción en ingles y solo para copias y pegar en nuestro trabajo, claro que solo pondríamos hasta el **valor p** y si es necesario los intervalos de confianza **(CI)**, pero eliminar **Eta2** pues esto es el tamaño del efecto, conservando asi lo demás para poder traducirlo y pegarlo. 

Con respecto a como podemos obtener una tabla apa con nuestro anova, solo vamos a colocar el siguiente código. En este caso, para poder realizar esto solo borramos en ***#filename="tabla_anova.doc*** el **"#"** asterisco y ya se nos guardará los resultados en nuestro ordenador


````markdown
apa.aov.table(anvar, # Nuestra base de datos
              table.number = 1,
              #filename="tabla_anova.doc" # Linea para guardar nuestro archivo en word
              )
```
---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

name: graficaanova

### Gráfica de la prueba ANOVA

````markdown
ggstatsplot::ggbetweenstats(
  data = datospara,
  x = Área,
  y = Participación,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  notch = TRUE, # box plot cuadrado o ovalado (notch)
  mean.ci = TRUE, # Intervalos de confianza para las medias
  type = "p", #"p" (para parametrica), "np" (no parametrica), "r" (robusta), or "bf" (bayes factor)
  effsize.type = "partial_omega",# hay "biased" (equivalente a la d cohen del t test), "partial_eta" (eta-squared para anova) o "unbiased" (equivalente a "g" Hedge's g para t-test, "partial_omega"(omega-squared para anova)
  k = 2, # cuántos decimales?
  pairwise.comparisons = TRUE, # Muestra las comparaciones post hoc
  p.adjust.method = "bonferroni", # método para utilizar las post hoc. esta: "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none"
  pairwise.display = "s", # "s" solo te muestra las que son significativas, "ns" muestra no significativas, "all" pues todas ;)
  #outlier.tagging = TRUE, # mostrar outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  xlab = "Variable de Agrupación (Área de trabajo)", 
  ylab = "Dimensión Participación",
  title = "Gráfica de la prueba ANOVA", # Título del plot
  ggtheme = ggthemes::theme_base(), # cambiar el fondo del gráfico
  ggstatsplot.layer = FALSE, # turn off `ggstatsplot` theme layer
  package = "wesanderson", # elegir el paquete asociado a la paleta de colores.
  palette = "Darjeeling1", # cambiar la paleta
  messages = FALSE,
  var.equal = TRUE
)
```
---

<br>

```{r}
ggstatsplot::ggbetweenstats(
  data = datospara,
  x = Área,
  y = Participación,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  notch = TRUE, # box plot cuadrado o ovalado (notch)
  mean.ci = TRUE, # Intervalos de confianza para las medias
  type = "p", #"p" (para parametrica), "np" (no parametrica), "r" (robusta), or "bf" (bayes factor)
  effsize.type = "partial_omega",# hay "biased" (equivalente a la d cohen del t test), "partial_eta" (eta-squared para anova) o "unbiased" (equivalente a "g" Hedge's g para t-test, "partial_omega"(omega-squared para anova)
  k = 2, # cuántos decimales?
  pairwise.comparisons = TRUE, # Muestra las comparaciones post hoc
  p.adjust.method = "bonferroni", # método para utilizar las post hoc. esta: "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none"
  pairwise.display = "s", # "s" solo te muestra las que son significativas, "ns" muestra no significativas, "all" pues todas ;)
  #outlier.tagging = TRUE, # mostrar outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  xlab = "Variable de Agrupación (Área de trabajo)", 
  ylab = "Dimensión Participación",
  title = "Gráfica de la prueba ANOVA", # Título del plot
  ggtheme = ggthemes::theme_base(), # cambiar el fondo del gráfico
  ggstatsplot.layer = FALSE, # turn off `ggstatsplot` theme layer
  package = "wesanderson", # elegir el paquete asociado a la paleta de colores.
  palette = "Darjeeling1", # cambiar la paleta
  messages = FALSE,
  var.equal = TRUE
)
```

---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

name: Kruskal

### Kruskal-Wallis (Prueba no paramétrica)

Es una alternativa no paramétrica cuando hay que comparar más de dos grupos, los cuales no cumplieron con los supuestos de normalidad e igualdad de varianzas.

Para poder hacer ese analizamos solo necesitamos los siguiente códigos

````markdown
kruskal.test(HabilidadesSociales ~ Grupo, data = datosnoparame)
```

```{r}
kruskal.test(HabilidadesSociales ~ Grupo, data = datosnoparame)
```

Y los resultados resúmenes, en la cual solo vamos a colocar las variables las cuales estamos utilizando para hacer nuestro kruskal

````markdown
group_by(datosnoparame, Grupo) %>% summarise(
  count = n(),
  mean = mean(HabilidadesSociales, na.rm = TRUE),
  sd = sd(HabilidadesSociales, na.rm = TRUE),
  median = median(HabilidadesSociales, na.rm = TRUE),
  IQR = IQR(HabilidadesSociales, na.rm = TRUE))
```

```{r}
group_by(datosnoparame, Grupo) %>% summarise(
  count = n(),
  mean = mean(HabilidadesSociales, na.rm = TRUE),
  sd = sd(HabilidadesSociales, na.rm = TRUE),
  median = median(HabilidadesSociales, na.rm = TRUE),
  IQR = IQR(HabilidadesSociales, na.rm = TRUE))
```

---

name: graficaKruskal

### Gráfica de la prueba Kruskal-Wallis

````markdown
ggstatsplot::ggbetweenstats(
  data = datospara,
  x = Área,
  y = Participación,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  notch = TRUE, # box plot cuadrado o ovalado (notch)
  mean.ci = TRUE, # Intervalos de confianza para las medias
  type = "np", #"p" (para parametrica), "np" (no parametrica), "r" (robusta), or "bf" (bayes factor)
  effsize.type = "partial_omega",# hay "biased" (equivalente a la d cohen del t test), "partial_eta" (eta-squared para anova) o "unbiased" (equivalente a "g" Hedge's g para t-test, "partial_omega"(omega-squared para anova)
  k = 2, # cuántos decimales?
  pairwise.comparisons = TRUE, # Muestra las comparaciones post hoc
  p.adjust.method = "bonferroni", # método para utilizar las post hoc. esta: "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none"
  pairwise.display = "s", # "s" solo te muestra las que son significativas, "ns" muestra no significativas, "all" pues todas ;)
  #outlier.tagging = TRUE, # mostrar outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  xlab = "Variable de Agrupación (Área de trabajo)", 
  ylab = "Dimensión Participación",
  title = "Gráfica de la prueba ANOVA", # Título del plot
  ggtheme = ggthemes::theme_base(), # cambiar el fondo del gráfico
  ggstatsplot.layer = FALSE, # turn off `ggstatsplot` theme layer
  package = "wesanderson", # elegir el paquete asociado a la paleta de colores.
  palette = "Darjeeling1", # cambiar la paleta
  messages = FALSE,
  var.equal = TRUE
)
```
---

<br>

```{r}
ggstatsplot::ggbetweenstats(
  data = datospara,
  x = Área,
  y = Participación,
  plot.type = "violin", # type of plot también se puede "box" o "violin"
  notch = TRUE, # box plot cuadrado o ovalado (notch)
  mean.ci = TRUE, # Intervalos de confianza para las medias
  type = "np", #"p" (para parametrica), "np" (no parametrica), "r" (robusta), or "bf" (bayes factor)
  effsize.type = "partial_omega",# hay "biased" (equivalente a la d cohen del t test), "partial_eta" (eta-squared para anova) o "unbiased" (equivalente a "g" Hedge's g para t-test, "partial_omega"(omega-squared para anova)
  k = 2, # cuántos decimales?
  pairwise.comparisons = TRUE, # Muestra las comparaciones post hoc
  p.adjust.method = "bonferroni", # método para utilizar las post hoc. esta: "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none"
  pairwise.display = "s", # "s" solo te muestra las que son significativas, "ns" muestra no significativas, "all" pues todas ;)
  #outlier.tagging = TRUE, # mostrar outliers
  outlier.coef = 1.5, # coeficiente para considerarlo outlier siguiendo la Tukey's rule
  xlab = "Variable de Agrupación (Área de trabajo)", 
  ylab = "Dimensión Participación",
  title = "Gráfica de la prueba Kruskal-Wallis", # Título del plot
  ggtheme = ggthemes::theme_base(), # cambiar el fondo del gráfico
  ggstatsplot.layer = FALSE, # turn off `ggstatsplot` theme layer
  package = "wesanderson", # elegir el paquete asociado a la paleta de colores.
  palette = "Darjeeling1", # cambiar la paleta
  messages = FALSE,
  var.equal = TRUE
)
```
---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
---

class: left, middle, inverse, center
background-size: 70%
background-color: #505168
name: relacionados

## Prueba Parametrica para grupos relacionados
<hr>

---

name: trelacionadas

# T de Student para muestras relacionadas/pareadas/apareadas

El procedimiento Prueba T para muestras relacionadas compara las medias de dos variables de un solo grupo, como pueden ser en un experimento, en un programa o intervención (mejor conocido como el pre o post)

```{r}
muestrapare <- read_sav("D:\\Tesis investigación\\scripts\\preypost.sav")
apar <- read_sav("D:\\ANALISIS FACTORIAL R\\Estadistica_curso\\Materiales drive _ Curso EstadySPSS_Jamovi\\05 Bases de datos de la parte práctica\\03.Análisis inferencial paramétrico\\2 Comp grupo relac\\Comparación de grupos relacionados.sav")
```

Aqui tenemos dos formas de poner nuestros datos 

1. Forma 1: Como serian colocar en una sola variable el pre y post y en otra los reusltados de las mediciones

```{r}
head(muestrapare)
```

---

<br><br><br>

2. Forma 2: Y aqui separar en varias columnas el pre y post de todos los resultados obtenidos

```{r}
head(apar)
```

Pero en ambos casos, los resultados van a ser iguales

Tiendo nuestros datos podemos, podemos iniciar con el análisis, para esto vamos a utilizar las siguientes lineas:

---

Como se puede ver en esta primera forma, vamos a colocar en **x** nuestra variable pre y en **y** nuestra variable post, despues de esto colocamos **paired = TRUE** para indicar que nuestra t están relacionadas. 

Los resultados se ponen en orden para que solo copiemos y peguemos en nuestro trabajo

````markdown
t_test(x=muestraapareada$Familiar_Pre, y=muestraapareada$Familiar_Post, paired = TRUE) %>% 
  parameters()
```
```{r}
t_test(x=apar$Familiar_Pre, y=apar$Familiar_Post, paired = TRUE) %>% 
  parameters()
```


---

Ahora con la segunda forma, vamos a utilizar el siguiente código

````markdown
t.test(EvaFamiliar ~ Familiar, data = muestrapare, paired = TRUE)%>% 
  parameters()
```
```{r}
t.test(EvaFamiliar ~ Familiar, data = muestrapare, paired = TRUE)%>% 
  parameters()
```

Como se puede observar el resultado es el mismo, solo cambia la forma de los códigos. Ahora para colocar en una tabla nuestros resultados podemos utiliza el código antes para la t de student para muestras independientes, el cual es el siguiente

````markdown
tablaapare <- nice_t_test(data = muestrapare,
            response = "EvaFamiliar",
            group = "Familiar",
            warning = FALSE,
            paired = TRUE)
```
colocamos el nombre de la base de donde estamos sacando nuestros resultados **muestrapare**, luego la variable respuesta **EvaFamiliar**, el grupo **Familiar** y por ultimo **paired = TRUE** para determinar que son relacionadas nuestras variables

---

```{r}
tablaapare <- nice_t_test(data = muestrapare,
            response = "EvaFamiliar",
            group = "Familiar",
            warning = FALSE,
            paired = TRUE)
```

````markdown
nice_table(tablaapare)
```


```{r}
nice_table(tablaapare)
```

En este caso, solo vamos a obtener el resultado de solo una evaluación, pero en general si nuestros datos son solo de un experimento o preexperimento, donde solo queramos medir como fue efectivo el programa o intervención es suficiente, pero si tenemos otras mediciones podemos hacer de nuevo todo el procedimiento, pero ahora con la otra variable

---

name: graficatapareadas

### Gráfica de la prueba t para muestras apareadas

````markdown
ggstatsplot::ggwithinstats(
  data = muestrapare, #tus datos
  x = Familiar, #variable agrupación
  y = EvaFamiliar, #variable depend
  type = "p", # parametric" or "nonparametric" or "robust" or "bayes
  pairwise.comparisons = FALSE, 
  effsize.type = "biased", #tmb biased
  effsize.noncentral = TRUE,
  bf.prior = 0.707,
  bf.message = TRUE,
  sphericity.correction = TRUE,
  results.subtitle = TRUE,
  xlab = "Variable de Agrupación (Pre y Post)",
  ylab = "Dimensión Familiar",
  #caption = "", # No es necesario
  title = "Gráfica de la prueba t para muestras apareadas",
  subtitle = NULL,
  sample.size.label = TRUE,
  k = 2, #número de decimales
  conf.level = 0.95,
  nboot = 100, 
  path.point = FALSE,#poner puntito y medias conectados
  path.mean = TRUE,#idem
  sort = "none",
  sort.fun = mean,
  axes.range.restrict = FALSE,
  mean.label.size = 3,
  mean.label.fontface = "bold",
  mean.label.color = "black",
  notch = FALSE, #suavizado de la caja
  notchwidth = 0.5,
  linetype = "solid", #tmb "blank", "solid", "dashed", "dotted", "dotdash", "longdash", and "twodash")
  outlier.tagging = FALSE, #marca extremos
  outlier.shape = 19,
  outlier.label = NULL,
  outlier.label.color = "black",
  outlier.color = "black",
  outlier.coef = 1.5,
  mean.plotting = TRUE, #que te muestre la media
  mean.ci = FALSE, #intervalo de confianza
  mean.size = 5,
  mean.color = "darkred",
  ggtheme = ggplot2::theme_classic(),
  ggstatsplot.layer = TRUE,
  package = "RColorBrewer",
  palette = "Dark2",
  direction = 1,
  ggplot.component = NULL,
  return = "plot",
  messages = TRUE,
)
```
---

<br>

```{r}
ggstatsplot::ggwithinstats(
  data = muestrapare, #tus datos
  x = Familiar, #variable agrupación
  y = EvaFamiliar, #variable depend
  type = "p", # parametric" or "nonparametric" or "robust" or "bayes
  pairwise.comparisons = FALSE, 
  effsize.type = "biased", #tmb biased
  effsize.noncentral = TRUE,
  bf.prior = 0.707,
  bf.message = TRUE,
  sphericity.correction = TRUE,
  results.subtitle = TRUE,
  xlab = "Variable de Agrupación (Pre y Post)",
  ylab = "Dimensión Familiar",
  #caption = "", # No es necesario
  title = "Gráfica de la prueba t para muestras apareadas",
  subtitle = NULL,
  sample.size.label = TRUE,
  k = 2, #número de decimales
  conf.level = 0.95,
  nboot = 100, 
  path.point = FALSE,#poner puntito y medias conectados
  path.mean = TRUE,#idem
  sort = "none",
  sort.fun = mean,
  axes.range.restrict = FALSE,
  mean.label.size = 3,
  mean.label.fontface = "bold",
  mean.label.color = "black",
  notch = FALSE, #suavizado de la caja
  notchwidth = 0.5,
  linetype = "solid", #tmb "blank", "solid", "dashed", "dotted", "dotdash", "longdash", and "twodash")
  outlier.tagging = FALSE, #marca extremos
  outlier.shape = 19,
  outlier.label = NULL,
  outlier.label.color = "black",
  outlier.color = "black",
  outlier.coef = 1.5,
  mean.plotting = TRUE, #que te muestre la media
  mean.ci = FALSE, #intervalo de confianza
  mean.size = 5,
  mean.color = "darkred",
  ggtheme = ggplot2::theme_classic(),
  ggstatsplot.layer = TRUE,
  package = "RColorBrewer",
  palette = "Dark2",
  direction = 1,
  ggplot.component = NULL,
  return = "plot",
  messages = TRUE,
)
```

---
class: left, middle, inverse, center
background-size: 70%
background-color: #8F250C
name: yo

# Regresar a [Indice de Contenidos](#contents-slide)
